module.exports=[24361,(a,b,c)=>{b.exports=a.x("util",()=>require("util"))},14747,(a,b,c)=>{b.exports=a.x("path",()=>require("path"))},56704,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-async-storage.external.js",()=>require("next/dist/server/app-render/work-async-storage.external.js"))},32319,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/work-unit-async-storage.external.js",()=>require("next/dist/server/app-render/work-unit-async-storage.external.js"))},20635,(a,b,c)=>{b.exports=a.x("next/dist/server/app-render/action-async-storage.external.js",()=>require("next/dist/server/app-render/action-async-storage.external.js"))},9270,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.AppRouterContext},36313,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.HooksClientContext},18341,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored.contexts.ServerInsertedHtml},38783,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactServerDOMTurbopackClient},25482,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,children:c,...e},f)=>(0,b.jsx)("select",{ref:f,className:(0,d.cn)("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),...e,children:c}));e.displayName="NativeSelect",a.s(["Select",()=>e])},66718,70430,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(68114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e],66718),a.i(35112);var f=a.i(11011),g=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((a,d)=>{let e=(0,f.createSlot)(`Primitive.${d}`),g=c.forwardRef((a,c)=>{let{asChild:f,...g}=a;return(0,b.jsx)(f?e:d,{...g,ref:c})});return g.displayName=`Primitive.${d}`,{...a,[d]:g}},{}),h=c.forwardRef((a,c)=>(0,b.jsx)(g.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));h.displayName="Label";let i=(0,a.i(187).cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),j=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(h,{ref:e,className:(0,d.cn)(i(),a),...c}));j.displayName=h.displayName,a.s(["Label",()=>j],70430)},28495,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(50944),e=a.i(23292),f=a.i(89531),g=a.i(29908),h=a.i(19032),i=a.i(91119),j=a.i(99570),k=a.i(66718),l=a.i(70430),m=a.i(25482),n=a.i(68114);let o=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)("textarea",{className:(0,n.cn)("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:d,...c}));o.displayName="Textarea";let p=[{value:"software",label:"Software Problem",subcategories:[{value:"windows_update",label:"Windows Update"},{value:"bsod",label:"BSOD (Blue Screen)"},{value:"software_crash",label:"Software Crash"},{value:"app_error",label:"Application Error"},{value:"network",label:"Network/Connectivity"},{value:"other",label:"Other"}]},{value:"hardware",label:"Hardware",subcategories:[{value:"machine_part",label:"Machine Part"},{value:"motor",label:"Motor"},{value:"sensor",label:"Sensor"},{value:"conveyor",label:"Conveyor"},{value:"electrical_component",label:"Electrical Component"},{value:"other",label:"Other"}]},{value:"mechanical",label:"Mechanical",subcategories:[{value:"bearing",label:"Bearing"},{value:"belt",label:"Belt"},{value:"gear",label:"Gear"},{value:"pump",label:"Pump"},{value:"other",label:"Other"}]},{value:"electrical",label:"Electrical",subcategories:[{value:"wiring",label:"Wiring"},{value:"circuit_breaker",label:"Circuit Breaker"},{value:"motor",label:"Motor"},{value:"switch",label:"Switch"},{value:"other",label:"Other"}]},{value:"plumbing",label:"Plumbing",subcategories:[{value:"pipe",label:"Pipe"},{value:"valve",label:"Valve"},{value:"pump",label:"Pump"},{value:"drain",label:"Drain"},{value:"other",label:"Other"}]},{value:"task",label:"Task",subcategories:[{value:"change_database_value",label:"Change Value in Database"},{value:"remove_data",label:"Remove Something"},{value:"update_code",label:"Update Code"},{value:"fix_bug",label:"Fix Bug"},{value:"add_feature",label:"Add Feature"},{value:"refactor_code",label:"Refactor Code"},{value:"database_migration",label:"Database Migration"},{value:"other",label:"Other"}]},{value:"other",label:"Other",subcategories:[]}];function q(){let a=(0,d.useRouter)(),[n,q]=(0,c.useState)({title:"",description:"",category:"software",subcategory:"",priority:"medium",machine:"",area:""}),[r,s]=(0,c.useState)(!1),[t,u]=(0,c.useState)(""),v=p.find(a=>a.value===n.category),w=v&&v.subcategories.length>0,x=["hardware","mechanical","electrical","plumbing"].includes(n.category),y=async b=>{b.preventDefault(),u(""),s(!0);let c=e.toast.loading("Creating ticket...");try{await h.default.post("/tickets",n),e.toast.success("Ticket created successfully!",{id:c}),setTimeout(()=>{a.push("/dashboard/worker")},1e3)}catch(b){let a=b.response?.data?.message||"Failed to create ticket";u(a),e.toast.error(a,{id:c})}finally{s(!1)}};return(0,b.jsx)(f.default,{allowedRoles:["worker"],children:(0,b.jsx)(g.default,{title:"Create New Ticket",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto",children:(0,b.jsxs)(i.Card,{children:[(0,b.jsx)(i.CardHeader,{children:(0,b.jsx)(i.CardTitle,{children:"Create Maintenance Ticket"})}),(0,b.jsxs)(i.CardContent,{children:[t&&(0,b.jsx)("div",{className:"mb-4 bg-destructive/15 border border-destructive text-destructive px-4 py-3 rounded-md text-sm",children:t}),(0,b.jsxs)("form",{onSubmit:y,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"title",children:"Title *"}),(0,b.jsx)(k.Input,{id:"title",type:"text",required:!0,value:n.title,onChange:a=>q({...n,title:a.target.value}),placeholder:"Brief description of the issue"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"description",children:"Description *"}),(0,b.jsx)(o,{id:"description",required:!0,rows:5,value:n.description,onChange:a=>q({...n,description:a.target.value}),placeholder:"Detailed description of the problem..."})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"category",children:"Category"}),(0,b.jsx)(m.Select,{id:"category",value:n.category,onChange:a=>{var b;return b=a.target.value,void q({...n,category:b,subcategory:""})},children:p.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))})]}),w&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"subcategory",children:"Type / Subcategory *"}),(0,b.jsxs)(m.Select,{id:"subcategory",required:!0,value:n.subcategory,onChange:a=>q({...n,subcategory:a.target.value}),children:[(0,b.jsx)("option",{value:"",children:"Select type..."}),v?.subcategories.map(a=>(0,b.jsx)("option",{value:a.value,children:a.label},a.value))]})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"priority",children:"Priority"}),(0,b.jsxs)(m.Select,{id:"priority",value:n.priority,onChange:a=>q({...n,priority:a.target.value}),children:[(0,b.jsx)("option",{value:"low",children:"Low"}),(0,b.jsx)("option",{value:"medium",children:"Medium"}),(0,b.jsx)("option",{value:"high",children:"High"}),(0,b.jsx)("option",{value:"critical",children:"Critical"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"area",children:"Area/Location"}),(0,b.jsx)(k.Input,{id:"area",type:"text",value:n.area,onChange:a=>q({...n,area:a.target.value}),placeholder:"e.g., Production Line 1"})]})]}),x&&(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(l.Label,{htmlFor:"machine",children:"Machine/Equipment"}),(0,b.jsx)(k.Input,{id:"machine",type:"text",value:n.machine,onChange:a=>q({...n,machine:a.target.value}),placeholder:"e.g., Machine A, Conveyor B2"})]}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsx)(j.Button,{type:"submit",disabled:r,className:"flex-1",size:"lg",children:r?"Creating...":"Create Ticket"}),(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>a.back(),children:"Cancel"})]})]})]})]})})})})}a.s(["default",()=>q],28495)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__8d3cba5d._.js.map